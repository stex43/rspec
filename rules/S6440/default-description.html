<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>From React documentation:</p>
</div>
<div class="quoteblock">
<blockquote>
Always use Hooks at the top level of your React function, before any early returns. By following this rule, you ensure that Hooks are called in the same order each time a component renders. Thatâ€™s what allows React to correctly preserve the state of Hooks between multiple <code>useState</code> and <code>useEffect</code> calls.
</blockquote>
</div>
<div class="paragraph">
<p>React is relying on the order of the Hook calls to know which local state matches which Hook call. That is why it&#8217;s important that the Hooks are not called inside loops, conditions, or nested functions.</p>
</div>
<div class="paragraph">
<p>Also this rule ensures that the Hooks are called only from React function components or custom Hooks so that the stateful logic of a component is clearly visible from its source code.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function Profile() {
  const [ordersCount, setOrdersCount] = useState(0);
  if (ordersCount !== 0) {
    useEffect(function() { // Noncompliant, this Hook is called conditionally
      localStorage.setItem('ordersData', ordersCount);
    });
  }

  return &lt;div&gt;{ getName() }&lt;/div&gt;
}

function getName() {
  const [name] = useState('John'); // Noncompliant, this Hook is called from simple JavaScript function
  return name;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">function Profile() {
  const [ordersCount, setOrdersCount] = useState(0);
  useEffect(function() {
    if (ordersCount !== 0) {
      localStorage.setItem('ordersData', ordersCount);
    }
  });

  const [name] = useState('John');
  return &lt;div&gt;{ name }&lt;/div&gt;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://reactjs.org/docs/hooks-rules.html">Rules of Hooks</a> - React documentation</p>
</li>
</ul>
</div>
</div>
</div>