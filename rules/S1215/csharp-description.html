<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://learn.microsoft.com/en-us/dotnet/api/system.gc.collect">GC.Collect</a> is a method that forces or suggests to the <a href="https://learn.microsoft.com/en-us/dotnet/standard/garbage-collection/">garbage collector</a> to run a collection of objects in the managed heap that are no longer being used and free their memory.</p>
</div>
<div class="paragraph">
<p>Calling <code>GC.Collect</code> is rarely necessary and can significantly affect application performance. That&#8217;s because it is a <a href="https://en.wikipedia.org/wiki/Tracing_garbage_collection">tracing garbage collector</a> and needs to examine <em>every object in memory</em> for cleanup and analyze all reachable objects from every application&#8217;s root (static fields, local variables on thread stacks, etc.).</p>
</div>
<div class="paragraph">
<p>To perform tracing and memory releasing correctly, the garbage collection <a href="https://learn.microsoft.com/en-us/dotnet/standard/garbage-collection/latency">may</a> need to block all threads currently in execution. That is why, as a general rule, the <a href="https://learn.microsoft.com/en-us/dotnet/standard/garbage-collection/performance#troubleshoot-performance-issues">performance implications</a> of calling <code>GC.Collect</code> far outweigh the benefits.</p>
</div>
<div class="paragraph">
<p>This rule raises an issue when any overload of <code>Collect</code> is invoked.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">static void Main(string[] args)
{
  // ...
  GC.Collect();                              // Noncompliant
  GC.Collect(2, GCCollectionMode.Optimized); // Noncompliant
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>There may be exceptions to this rule: for example, you&#8217;ve just triggered some event that is unique in the run of your program that caused a lot of long-lived objects to die, and you want to release their memory.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/standard/garbage-collection/">Garbage collection</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/api/system.gc.collect">GC.Collect</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/standard/garbage-collection/latency">Garbage collection latency modes</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/standard/garbage-collection/performance#troubleshoot-performance-issues">Garbage collection troubleshoot performance issues</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Refactor the code to remove this use of 'XXX'.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_20_aug_2013_152400_freddy_mallet_wrote">on 20 Aug 2013, 15:24:00 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Is implemented by http://jira.codehaus.org/browse/SONARJAVA-307</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_21_aug_2013_150412_dinesh_bolkensteyn_wrote">on 21 Aug 2013, 15:04:12 Dinesh Bolkensteyn wrote:</h3>
<div class="paragraph">
<p>Nice description!</p>
</div>
</div>
</div>
</div>