<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Many of JavaScript&#8217;s <code>Array</code> methods return an altered version of the array while leaving the source array intact. <code>reverse</code> and <code>sort</code> do not fall into this category. Instead, they alter the source array <em>in addition to</em> returning the altered version, which is likely not what was intended.</p>
</div>
<div class="paragraph">
<p>This rule raises an issue when the return values of these methods are assigned, which could lead maintainers to overlook the fact that the original value is altered.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const reversed = a.reverse(); // Noncompliant
const sorted = b.sort(); // Noncompliant</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">const reversed = [...a].reverse();  // spread the contents of 'a' into a new array, so reverse doesn't impact 'a'
const reversed2 = a.toReversed(); // ES2023 method that copies and reverses the array
a.reverse(); // reverse the array in place

const sorted = [...b].sort(); // spread the contents of 'b' into a new array, so sort doesn't impact 'b'
const sorted2 = b.toSorted(); // ES2023 method that copies and sorts the array
b.sort(); // sort the array in place</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Move this array "{0}" operation to a separate statement.</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p><code>x.reverse()</code></p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_28_jul_2017_142042_elena_vilchik_wrote">on 28 Jul 2017, 14:20:42 Elena Vilchik wrote:</h3>
<div class="paragraph">
<p>I&#8217;ve put the rule back to Sonar Way as we removed more code-smelly case <code>a = a.reverse();</code> from the scope (moved to <a data-rspec-id="S1656" class="rspec-auto-link">RSPEC-1656</a>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_16_jan_2020_102352_tibor_blenessy_wrote">on 16 Jan 2020, 10:23:52 Tibor Blenessy wrote:</h3>
<div class="paragraph">
<p>Changed to code smell, we can&#8217;t be sure that the code has a bug, and from issues we find it seems that more often it&#8217;s not the case</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_14_mar_2021_112301_jounqin_wrote">on 14 Mar 2021, 11:23:01 JounQin wrote:</h3>
<div class="paragraph">
<p>Hi, I tried this in SonarJS, it seems <code>items?.sort()</code> reports while <code>items.sort()</code> does not which is unexpected.</p>
</div>
<div class="paragraph">
<p>What means this rule is not compatible with <code>optional chaining</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_15_mar_2021_165659_tibor_blenessy_wrote">on 15 Mar 2021, 16:56:59 Tibor Blenessy wrote:</h3>
<div class="paragraph">
<p>\[~JounQin] I created issue from your report https://github.com/SonarSource/SonarJS/issues/2513 , however please use our community forum in the future https://community.sonarsource.com/ ,  this JIRA project should not be used to report specific implementation issues, as it is agnostic about the language.</p>
</div>
</div>
</div>
</div>