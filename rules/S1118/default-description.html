<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Utility classes, which are collections of <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/static"><code>static</code></a> members, are not meant to be instantiated.</p>
</div>
<div class="paragraph">
<p>C# adds an implicit <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/public"><code>public</code></a> <a href="https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/constructors"><code>constructor</code></a> to every class which does not explicitly define at least one constructor. Hence, at least one <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/protected"><code>protected</code></a> constructor should be defined if you wish to inherit this utility class. Or the <code>static</code> keyword should be added to the class declaration to prevent inheriting it.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_fix_it">How to fix it</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_code_examples">Code examples</h3>
<div class="sect3">
<h4 id="_noncompliant_code_example">Noncompliant code example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">public class StringUtils // Noncompliant: implicit public constructor
{
  public static string Concatenate(string s1, string s2)
  {
    return s1 + s2;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">public class StringUtils // Noncompliant: explicit public constructor
{
  public StringUtils()
  {
  }

  public static string Concatenate(string s1, string s2)
  {
    return s1 + s2;
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compliant_solution">Compliant solution</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">public static class StringUtils
{
  public static string Concatenate(string s1, string s2)
  {
    return s1 + s2;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">public class StringUtils
{
  protected StringUtils()
  {
  }

  public static string Concatenate(string s1, string s2)
  {
    return s1 + s2;
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/static">Static keyword</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/constructors">Constructors</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/using-constructors">Using Constructors</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/access-modifiers">Access Modifiers</a></p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Hide this public constructor by making it ["protected"|"private"].</p>
</div>
<div class="paragraph">
<p>Add a ["protected"|"private"] constructor or the "static" keyword to the class declaration.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_24_jun_2015_140933_ann_campbell_wrote">on 24 Jun 2015, 14:09:33 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>very minor edits [~tamas.vajk]. Assigned to you for double-check</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_25_jun_2015_062347_tamas_vajk_wrote">on 25 Jun 2015, 06:23:47 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] thanks, it looks good.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_25_jun_2015_173951_ann_campbell_wrote">on 25 Jun 2015, 17:39:51 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~tamas.vajk] I noticed you overrode the SQALE remediation cost. Is this truly a language-specific difference, or do you think it&#8217;s wrong in the main task?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_26_jun_2015_062439_tamas_vajk_wrote">on 26 Jun 2015, 06:24:39 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] In Java you can write call a utility method through an instance, like <code>(new StringUtils()).Concatenate("a", "b")</code>, so if you change the visibility of the constructor, then you&#8217;ll need to change all these calls to <code>StringUtils.Concatenate(...)</code>. However, in C# you can&#8217;t use a static method through an instance, so changing the visibility of the constructor won&#8217;t affect the code as much as in Java.</p>
</div>
<div class="paragraph">
<p>But thinking about it a bit, the 2 minutes is a bit too short, I&#8217;ll modify it to 10mn, because you might have useless <code>new StringUtils()</code> calls in the code.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_26_jun_2015_111622_ann_campbell_wrote">on 26 Jun 2015, 11:16:22 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Okay [~tamas.vajk]</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_23_jul_2013_143150_dinesh_bolkensteyn_wrote">on 23 Jul 2013, 14:31:50 Dinesh Bolkensteyn wrote:</h3>
<div class="paragraph">
<p>Implemented by http://jira.codehaus.org/browse/SONARJAVA-223</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_11_apr_2017_162329_tibor_blenessy_wrote">on 11 Apr 2017, 16:23:29 Tibor Blenessy wrote:</h3>
<div class="paragraph">
<p>I changed compliant example to use <code>IllegalStateException</code> rather than <code>IllegalAccessError</code> as errors should be raised only by <code>javac</code> and not at runtime.</p>
</div>
</div>
</div>
</div>